<html>
    <head>
        <title>Login</title>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/semantic-ui@2.4.2/dist/semantic.min.css">
        <link rel="stylesheet" href="{{ url_for('static',path='style.css') }}">
        <script src="https://code.jquery.com/jquery-3.1.1.min.js" integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8=" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/semantic-ui@2.4.2/dist/semantic.min.js"></script>
        <style>
            .login{
                padding: 10% 40%;
            }
            .error{
                background-color: rgb(205, 165, 165);
                border-style: solid;
                border-color: rgb(205, 101, 101);
            }
        </style>
        <script>
          $(document).ready(function(){
              $("#save").click(function(){
                  var u=$("#username").val();
                  var p=$("#password").val();
                  
                  $.ajax({
                      type: "POST",
                      url: "/login", 
                      contentType: "application/json",
                      data: JSON.stringify({"username":u,"password":p}),
                      dataType: "json",
                      success:function(data){
                    window.location.replace("/login/watchlist/?name="+u);
                    },
                      error:function(xhr,status,error){
                    alert("ENTER CORRECT DETAILS");
                    }
                  })
              })
          });
        </script>
    </head>
    <body>
        <div class="ui inverted segment">
            <div class="ui inverted secondary menu"><div class="right menu">
              <a class="item" href="{{ '/' }}">
                Home
              </a>
              <a class="item" href="{{ 'market' }}">
                Market
              </a>
              <a class="item" href="{{ 'screener' }}">
                Screener
              </a>
              <a class="active item">
                Login
              </a>
              <a class="item" href="{{ 'signup' }}">
                Sign Up
              </a></div>
            </div>
        </div>
        <div class="login">
            <div class="column">
                <h2 class="ui red image header">
                <div class="content">
                    Log-in to your account
                </div>
                </h2>
                <form action="\watchlist" method="POST" class="ui large form">
                <div class="ui stacked segment">
                    <div class="field">
                    <div class="ui left icon input">
                        <i class="user icon"></i>
                        <input id="username" type="text" name="username" placeholder="Username">
                    </div>
                    </div>
                    <div class="field">
                    <div class="ui left icon input">
                        <i class="lock icon"></i>
                        <input id="password" type="password" name="password" placeholder="Password">
                    </div>
                    </div>
                    <div  id="save" class="ui fluid large black submit button">
                        Login
                    </div>
                </div>
                
                </form>
            
                <div class="ui message">
                New to us? <a href="{{ 'signup' }}">Sign Up</a>
                </div>
            </div>
        </div>
    </body>
</html>